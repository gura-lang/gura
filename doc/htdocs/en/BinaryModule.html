<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link href="../stylesheet.css" rel="stylesheet" type="text/css">
<link rel="shortcut icon" href="http://gura.sourceforge.jp/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="icon" href="http://gura.sourceforge.jp/favicon.ico" type="image/vnd.microsoft.icon" />
<title>Gura Programming Language</title>
<meta name="keywords" content="programming, language, interpreter, mapping, gura,
implicit mapping, member mapping">
</head>
<body>
<div>
<a href="../index.html.en"><img src="../images/banner.png" style="border: none" /></a>
<a href="../en/BinaryModule.html" class="radio-on" style="margin-left: 1em">English</a> |
<a href="../ja/BinaryModule.html" class="radio-off">Japanese</a>
<span style="margin-left: 3em"><a href="http://sourceforge.jp/">
<img src="http://sourceforge.jp/sflogo.php?group_id=5586&type=3" width="210" height="63" border="0" alt="SourceForge.JP" />
</a></span>
</div>

<div style="color: white; background: #888888; margin-top: 1em; font-weight: bold">
<span style="margin-left: 1em">Copyright (c) 2011-2012 <a href="mailto:pxn11432@nifty.com" style="color:white">Yutaka Saito</a></span>
</div>
<div style="height:.2em; background: #cccccc"></div>
<table cellspacing="0" border="0" width="100%">
<tr>
<td valign="top" class="menu">
<div class="menuitem"><a href="/" class="menuitem">Top Page</a></div>
<div class="menuitem"><a href="Download.html" class="menuitem">Download</a></div>
<div class="menuitem"><a href="Install.html" class="menuitem">Install</a></div>
<div class="menuitem"><a href="Gallery.html" class="menuitem">Gallery</a></div>
<div class="menuitem"><a href="http://sourceforge.jp/forum/forum.php?forum_id=25596" class="menuitem">Gura Forum</a></div>
</td>

<td valign="top" class="description">
<!-- ====================================================================== -->

<h3>How to Create Binary Module</h3>

<p>
Gura has a mechanism to support users who create binary modules.
This document shows how to create an original binary module hoge.
</p>

<p>
At first, execute the following command.
</p>

<pre class="code">
$ gura -i lets_module hoge
</pre>

<p>
This would generate a builder script, build.gura, and a template source file of module,
Module_hoge.cpp. Although the file Module_hoge.cpp is just a C++ source file
that consists of less than 40 lines of codes, it already has an implementation
for a Gura function named test.
</p>

<p>
Executing build.gura would create the module by launching a proper C++ compiler.
If you try it in Windows, you need to install
Visual Studio 2010 in advance.
You may use Express version that is available for free of charge.
</p>

<pre class="code">
$ gura build.gura --here
</pre>

<p>
If you find a binary module file hoge.gurd has successfully been built in the current directory,
import it into Gura's script and test it.
</p>

<pre class="code">
$ gura
&gt;&gt;&gt; import(hoge)
&gt;&gt;&gt; dir(hoge)
[`__name__, `test]
&gt;&gt;&gt; hoge.test(3, 5)
8
</pre>

<p>
Congratulations! It's ready to edit Module_hoge.cpp for implementations as you like.
If you get what you want, execute the following command to install the module
into Gura's environment.
</p>

<pre class="code">
$ sudo gura build.gura install
</pre>

<p>
By the way, you need to get some information about C++ functions and
classes provided by Gura for actual programming.
The best way for it is to see source files of other binary modules.
At first, find out a module from those provided by Gura,
which has a function similar to what you want to create.
You can find module source files in a directory gura/src/Module_module
in a source package.
Each module is so simple that consists of one to two source files.
I'm sure it's relatively easy to know how to realize your purpose by investigating them,
because they have been developed in the same coding policy.
</p>

<!-- ====================================================================== -->
</td>
</tr>

</table>
</body>
</html>
