<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Gura Programming Language</title>
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/vnd.microsoft.icon" />
    <link rel="icon" href="/images/favicon.ico" type="image/vnd.microsoft.icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <a href="/"><img src="/images/banner-medium.png" alt="Gura Programming Language/" /></a>
        <p></p>
        <p>
        <a href="../en/BinaryModule.html" class="radio-on">English</a> |
        <a href="../ja/BinaryModule.html" class="radio-off">Japanese</a>
        </p>
        <p class="view"><a href="/">Top Page</a></p>
        <p class="view"><a href="/en/Download.html">Download</a></p>
        <p class="view"><a href="/en/Install.html">Install</a></p>
        <p class="view"><a href="/en/Gallery.html">Gallery</a></p>
        <!--
        <ul>
          <li><a href="https://github.com/jxg/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/jxg/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/jxg">View On <strong>GitHub</strong></a></li>
        </ul>
        -->
      </header>
      <section>
<!-- ====================================================================== -->

<h2>How to Create Binary Module</h2>

<p>
Gura has a mechanism to support users who create binary modules.
This document shows how to create an original binary module hoge.
</p>

<p>
At first, execute the following command.
</p>

<pre><code>$ gura -i lets_module hoge
</code></pre>

<p>
This would generate a builder script, build.gura, and a template source file of module,
Module_hoge.cpp. Although the file Module_hoge.cpp is just a C++ source file
that consists of less than 40 lines of codes, it already has an implementation
for a Gura function named test.
</p>

<p>
Executing build.gura would create the module by launching a proper C++ compiler.
If you try it in Windows, you need to install
Visual Studio 2010 in advance.
You may use Express version that is available for free of charge.
</p>

<pre><code>$ gura build.gura --here
</code></pre>

<p>
If you find a binary module file hoge.gurd has successfully been built in the current directory,
import it into Gura's script and test it.
</p>

<pre><code>$ gura
&gt;&gt;&gt; import(hoge)
&gt;&gt;&gt; dir(hoge)
[`__name__, `test]
&gt;&gt;&gt; hoge.test(3, 5)
8
</code></pre>

<p>
Congratulations! It's ready to edit Module_hoge.cpp for implementations as you like.
If you get what you want, execute the following command to install the module
into Gura's environment.
</p>

<pre><code>$ sudo gura build.gura install
</code></pre>

<p>
By the way, you need to get some information about C++ functions and
classes provided by Gura for actual programming.
The best way for it is to see source files of other binary modules.
At first, find out a module from those provided by Gura,
which has a function similar to what you want to create.
You can find module source files in a directory gura/src/Module_module
in a source package.
Each module is so simple that consists of one to two source files.
I'm sure it's relatively easy to know how to realize your purpose by investigating them,
because they have been developed in the same coding policy.
</p>
<!-- ====================================================================== -->
      </section>
      <footer>
        <a href="http://sourceforge.jp/">
        <img src="http://sourceforge.jp/sflogo.php?group_id=5586&type=2" alt="SourceForge.JP" />
        </a>
        <!--
        <p>This project is maintained by <a href="https://github.com/jxg">jxg</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
        -->
      </footer>
    </div>
    <script src="/javascripts/scale.fix.js"></script>
  </body>
</html>
