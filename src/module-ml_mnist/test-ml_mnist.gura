#!/usr/bin/env gura
import(helper.test) {*}
import(ml.mnist)
import(arrayt)

db = ml.mnist.database('../../sample/resource/mnist')

testcase('properties in ImageSet and LabelSet') {
	printf('Test .. nimages:%d, nrows:%d, ncols:%d, nlabels:%d\n',
		   db.test.imageset.nimages, db.test.imageset.nrows, db.test.imageset.ncols,
		   db.test.labelset.nlabels)
	printf('Train .. nimages:%d, nrows:%d, ncols:%d, nlabels:%d\n',
		   db.train.imageset.nimages, db.train.imageset.nrows, db.train.imageset.ncols,
		   db.train.labelset.nlabels)
}
testcase('toarray()') {
	arrImage = db.test.imageset.toarray(`flat)
	arrLabel = db.test.labelset.toarray()
	repeat (5) {|i|
		println(ml.mnist.toascii(arrImage[i]))
		println(arrLabel[i])
	}
}
