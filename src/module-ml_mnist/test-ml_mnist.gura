#!/usr/bin/env gura
import(helper.test) {*}
import(ml.mnist)
import(arrayt)

db = ml.mnist.Database('../../sample/resource/mnist')

testcase('properties in ImageSet and LabelSet') {
	printf('Test .. nimages:%d, nrows:%d, ncols:%d, nlabels:%d\n',
		   db.test.imageSet.nimages, db.test.imageSet.nrows, db.test.imageSet.ncols,
		   db.test.labelSet.nlabels)
	printf('Train .. nimages:%d, nrows:%d, ncols:%d, nlabels:%d\n',
		   db.train.imageSet.nimages, db.train.imageSet.nrows, db.train.imageSet.ncols,
		   db.train.labelSet.nlabels)
}
testcase('toarray()') {
	arrImage = db.test.imageSet.toarray(`flat)
	arrLabel = db.test.labelSet.toarray()
	repeat (5) {|i|
		println(ml.mnist.toascii(arrImage[i]))
		println(arrLabel[i])
	}
}
